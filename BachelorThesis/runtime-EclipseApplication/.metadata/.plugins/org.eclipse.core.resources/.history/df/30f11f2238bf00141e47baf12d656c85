package xmetamodel.factory;

import com.salexandru.corex.interfaces.XEntity;
import xmetamodel.*;
import xmetamodel.implementation.*;

public class FactoryMethod {
   private LRUCache<XEntity, XEntity> lruCache_;
   public FactoryMethod() {
       lruCache_ = new LRUCache<XEntity, XEntity>(1000);
   }
   public FactoryMethod(int capacity) {
       lruCache_ = new LRUCache<XEntity, XEntity>(capacity);
   }
   public void clearCache() {lruCache_.clear();}
   public XClass createXClass(Object obj) {
       XEntity instance = lruCache_.get(obj);
        if (null == instance) {
           instance = new XClassImpl(obj);
           lruCache_.put(instance, instance);
        }
        return (XClass)instance;
    }
   public XCode createXCode(java.lang.String obj) {
       XEntity instance = lruCache_.get(obj);
        if (null == instance) {
           instance = new XCodeImpl(obj);
           lruCache_.put(instance, instance);
        }
        return (XCode)instance;
    }
}
